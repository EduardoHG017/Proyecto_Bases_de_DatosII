# ===================================================================
# CONFIGURACIÓN PG_HBA.CONF - NODO READONLY
# ===================================================================
# Configuración de autenticación para el nodo de solo lectura
# Optimizado para consultas y reportes

# CONEXIONES LOCALES
local   all             all                                     trust

# CONEXIONES IPv4 LOCALES
host    all             all             127.0.0.1/32            md5
host    all             all             0.0.0.0/0               md5

# CONEXIONES IPv6 LOCALES
host    all             all             ::1/128                 md5

# CONEXIONES DE ADMINISTRACIÓN (solo lectura)
host    all             admin           172.20.0.0/16          md5

# CONEXIONES PARA USUARIOS DE CONSULTA
# Permitir conexiones desde la red Docker para usuarios de solo lectura
host    all             readonly_user   172.20.0.0/16          md5
host    all             report_user     172.20.0.0/16          md5
host    all             analyst_user    172.20.0.0/16          md5

# CONFIGURACIÓN PARA DESARROLLO
# ¡ATENCIÓN! En producción, restringir estas reglas por seguridad
host    all             all             0.0.0.0/0              md5

# NOTA: Este nodo NO permite conexiones de replicación
# ya que está destinado únicamente para consultas de lectura