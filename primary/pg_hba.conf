# ===================================================================
# CONFIGURACIÓN PG_HBA.CONF - NODO PRIMARIO
# ===================================================================
# Configuración de autenticación y autorización para el nodo primario
# Permite conexiones locales, remotas y de replicación

# CONEXIONES LOCALES
local   all             all                                     trust

# CONEXIONES IPv4 LOCALES
host    all             all             127.0.0.1/32            trust
host    all             all             0.0.0.0/0               trust

# CONEXIONES IPv6 LOCALES
host    all             all             ::1/128                 trust

# CONEXIONES DE REPLICACIÓN DESDE NODOS STANDBY Y READONLY
# Permite al usuario replicator conectarse desde cualquier IP de la red Docker
host    replication     replicator      172.20.0.0/16          trust

# CONEXIONES DE REPLICACIÓN DESDE CONTENEDORES ESPECÍFICOS
host    replication     replicator      postgresql-standby     trust
host    replication     replicator      postgresql-readonly    trust

# CONEXIONES ADICIONALES PARA ADMINISTRACIÓN
host    all             admin           172.20.0.0/16          trust

# CONFIGURACIÓN PARA DESARROLLO (permite conexiones desde cualquier IP)
# ¡ATENCIÓN! En producción, cambiar trust por md5 y configurar contraseñas
host    all             all             0.0.0.0/0              trust