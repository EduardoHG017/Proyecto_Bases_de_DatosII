# ===================================================================
# CONFIGURACIÓN PG_HBA.CONF - NODO STANDBY
# ===================================================================
# Configuración de autenticación para el nodo standby
# Preparado para convertirse en primario durante failover

# CONEXIONES LOCALES
local   all             all                                     trust

# CONEXIONES IPv4 LOCALES
host    all             all             127.0.0.1/32            md5
host    all             all             0.0.0.0/0               md5

# CONEXIONES IPv6 LOCALES
host    all             all             ::1/128                 md5

# CONEXIONES DE REPLICACIÓN (para cuando se convierta en primario)
# Permitir conexiones de replicación desde otros nodos
host    replication     replicator      172.20.0.0/16          md5
host    replication     replicator      postgresql-primary     md5
host    replication     replicator      postgresql-readonly    md5

# CONEXIONES DE ADMINISTRACIÓN
host    all             admin           172.20.0.0/16          md5

# CONFIGURACIÓN PARA DESARROLLO
# ¡ATENCIÓN! En producción, restringir estas reglas por seguridad
host    all             all             0.0.0.0/0              md5